!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?exports.YomFormUtil=t(require("jquery")):e.YomFormUtil=t(e.$)}(window,function(e){return function(e){var t={};function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}return a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=4)}([function(t,a){t.exports=e},function(e,t,a){var n=a(0);e.exports=function(e){var t;if((e=n(e)[0]).value=n.trim(e.value),!e.value)return{passed:!0,data:null};if(t=+e.value,isNaN(t)||!isFinite(t)||/e|\.$/i.test(e.value))return{passed:!1};var a=e.value.split(".")[1];return a&&(t+"").split(".")[0]+"."+a==e.value||(e.value=t),{passed:!0,data:t}}},function(e,t,a){var n=a(0);e.exports=function(e){var t;return(e=n(e)[0]).value=n.trim(e.value),e.value?(t=+e.value,isNaN(t)||!isFinite(t)||t>9007199254740991||/e|\./i.test(e.value)?{passed:!1}:(e.value=t,{passed:!0,data:t})):{passed:!0,data:null}}},function(e,t){t.formatDecimal=function(e,t,a){function n(e){for(var t=[],a=0,n=e.split("");n.length;)!a||a%3||t.unshift(","),t.unshift(n.pop()),a++;return t.join("")}a=a||{};var r,s,i,u,l="";return(e+="")?(r=e.match(/^(-?)(\w*)(.?)(\w*)/)||[],(s=t.match(/^(-?)(\w*)(.?)(\w*)/)||[])[2]&&(l+=r[2]),s[3]&&s[4]?(l+=s[3],i=Math.min(s[4].length,4),u=r[4].length,l+=r[4].slice(0,i),i>u&&(l+=new Array(i-u+1).join("0")),u>i&&(a.round&&+r[4].charAt(i)>=5||a.ceil&&+r[4].charAt(i)>0)?formatDecimal((parseFloat(l)*Math.pow(10,i)+1)/Math.pow(10,i),t):(l=l.split("."),!1!==a.formatInteger&&(l[0]=n(l[0])),l=l.join("."),r[1]&&"0"!=l&&(l=r[1]+l),l)):(a.round?l=Math.round(parseFloat(e))+"":a.ceil&&(l=Math.ceil(parseFloat(e))+""),!1!==a.formatInteger&&(l=n(l)),l)):e}},function(e,t,a){var n=a(0),r={},s={},i={},u={};function l(e){var t=n(e).closest(".form-group, .validate-group");return t.length?t:null}var o={};o.UNDEFINED=r,o.getMsg=function(e,t,a){return"string"==typeof e&&(a=t=e,e=null),e&&n(e).attr("data-"+t+"-msg")||a&&s[a]&&s[a][t]||i[t]},o.formatMsg=function(e,t){return e+="",t&&n.each(t,function(t,a){e=e.replace(new RegExp("\\{\\{"+t+"\\}\\}","g"),a)}),e},o.addValidator=function(e,t){if(t)u[e]=t;else if("object"==typeof e)for(var a in e)e.hasOwnProperty(a)&&(u[a]=e[a])},o.highLight=function(e,t,a){var r,s=l(e);if(s)if(r=function(e,t){var a;return(t=t||l(e))&&(a=n(".help-error",t)).length?a:null}(e,s),s.removeClass("has-error has-warning has-info has-success"),""===a)r&&r.hide();else if(s.addClass("has-"+(a||"error")),r){if(t)return r.html(t).attr("title",t).css("display",r.hasClass("help-block")?"block":"inline-block"),!0;r.hide()}return!1},o.dehighLight=function(e){o.highLight(e,"","")},o.validateOne=function(e){var t,a,r,s,i={passed:!0},l=n(e).attr("data-validator");return l?(t=l.split(/\s*:\s*/),a=t[0],(r=t[1])||(r=a,a=""),r?(r=r.split(/\s+/),n.each(r,function(t,r){var l,c,p,d,f,v=!0;if(r){if(r.indexOf("@")>0&&(f=(l=r.split("@"))[0],r=l[1]),d=u[r])"object"==typeof(v=d(e,f))&&(s=v.data,p=v.msgData,v=v.passed);else{var h=n.trim(n(e).val());h&&((d=n(e).attr("data-"+r+"-regexp"))?v=new RegExp(d,n(e).attr("data-"+r+"-regexp-attr")).test(h):(d=n(e).attr("data-"+r+"-neg-regexp"))&&(v=!new RegExp(d,n(e).attr("data-"+r+"-neg-regexp-attr")).test(h)))}return v?void 0:(c=o.getMsg(n(e),r,a),p&&(c=o.formatMsg(c,p)),i={passed:!1,helped:o.highLight(e,c),failType:r,failMsg:c},!1)}}),i.passed&&(s&&(i.data=s),o.dehighLight(e)),i):i):(o.dehighLight(e),i)},o.validate=function(e,t){var a={passed:!0,data:{},failList:[],helpList:[]};return n("[data-validator]",e).each(function(t,r){var s=n(r),i=s.closest(".yom-form-util-component")[0];if(!(i&&n.contains(n(e)[0],i)||s.closest(".display-none, .hide, .hidden").length)){var u,l=o.validateOne(r);l.passed?l.data&&(a.data[this.name]=l.data):(a.passed=!1,u={item:r,failType:l.failType,failMsg:l.failMsg},a.failList.push(u),l.helped||a.helpList.push(u))}}),a.data=n.extend(o.getData(e,t),a.data),a},o.getData=function(e,t){var a,s=function(e){return void 0===e?null:e==r?void 0:e}((t=t||{}).emptyValue),i=t.returnArray,u=i?[]:{};return n("input, select, textarea",e).each(function(r,l){if(l.name){var o=n(l).closest(".yom-form-util-component")[0];if(!o||!n.contains(n(e)[0],o))switch(l.tagName){case"INPUT":"CHECKBOX"==(a=l.type.toUpperCase())?t.stdForm?i?u.push(l.checked?"on":"off"):l.checked&&(u[l.name]="on"):i?u.push(l.checked):u[l.name]=l.checked:"RADIO"==a?i?u.push(l.checked?l.value:s):l.checked&&("bool"==n(l).attr("data-value-type")?u[l.name]="false"!=(l.value+"").toLowerCase():u[l.name]=l.value||s):i?u.push(l.value||s):u[l.name]=l.value||s;break;case"SELECT":case"TEXTAREA":i?u.push(l.value||s):u[l.name]=l.value||s}}}),u},o.focus=function(e,t){var a=(e=n(e)[0]).tagName;if("INPUT"!=a&&"SELECT"!=a&&"TEXTAREA"!=a&&(e=n(".has-error input, .has-error select, .has-error textarea",e)[0]),e)try{e.focus(),t&&e.select()}catch(e){}},o.setMsg=function(e){e&&(s=n.extend(s,e))},o.setCommonMsg=function(e){e&&(i=n.extend(i,e))},o.initPlaceHolder=function(e,t){t=t||{},n(e).each(function(e,a){var r=(a=n(a)).prev(".place-holder-text");a.val()||r.show(),r.on("click",function(){try{a[0].focus()}catch(e){}}),a.on("keyup",function(){this.value?r.hide():r.show()}).on("focus",function(){r.addClass("focus"),t.onFocus&&t.onFocus.call(a[0])}).on("blur",function(){this.value?r.hide():r.show(),r.removeClass("focus"),t.onBlur&&t.onBlur.call(a[0])})})},o.checkPlaceHolder=function(e,t){t=t||{},n(e).each(function(e,t){var a=(t=n(t)).prev(".place-holder-text");t.val()?a.hide():a.show()})},o.initInputHint=function(){n(document.body).delegate(".input-hint-wrapper .form-control","focus",function(e){var t=n(this).closest(".input-hint-wrapper"),a=n(".input-hint-box",t),r=a.html();r&&(a.attr("data-default-hint-content")||a.attr("data-default-hint-content",r),t.addClass("input-hint-on"))}).delegate(".input-hint-wrapper .form-control","blur",function(e){var t=n(e.target).closest(".input-hint-wrapper"),a=n(".input-hint-box",t),r=setTimeout(function(){t.removeClass("input-hint-on")},200);a.on("click",function e(s){clearTimeout(r),a.off("click",e),n(document).on("click",function e(a){n(a.target).closest(".input-hint-wrapper")[0]!=t[0]&&(t.removeClass("input-hint-on"),n(document).off("click",e))})})}),o.initInputHint=function(){}},o.showInputHint=function(e,t,a){var r=n(e).closest(".input-hint-wrapper"),s=n(".input-hint-box",r);r.removeClass("input-hint-error input-hint-success input-hint-warning input-hint-info"),a&&r.addClass("input-hint-"+a),s.html(t),r.addClass("input-hint-on")},o.hideInputHint=function(e,t){var a=n(e).closest(".input-hint-wrapper"),r=n(".input-hint-box",a);a.removeClass("input-hint-on input-hint-error input-hint-success input-hint-warning input-hint-info"),t&&(a.removeClass("input-hint-error, input-hint-success, input-hint-warning, input-hint-info"),r.html(r.attr("data-default-hint-content")||""))},o.moveInputEnd=function(e){var t;e=n(e)[0],o.focus(e),e.createTextRange?((t=e.createTextRange()).moveStart("character",e.value.length),t.collapse(!0),t.select()):e.setSelectionRange(e.value.length,e.value.length)},o.getInputRange=function(e){e instanceof n&&(e=e[0]),e.focus();var t={text:"",start:0,end:0};if(e.setSelectionRange)t.start=e.selectionStart,t.end=e.selectionEnd,t.text=t.start!=t.end?e.value.substring(t.start,t.end):"";else if(document.selection){var a=document.selection.createRange(),r=document.selection.createRange();document.body.createTextRange().moveToElementText(e),t.text=r.text,t.bookmark=r.getBookmark(),e.select(),r.setEndPoint("StartToStart",document.selection.createRange()),t.end=r.text.length,t.start=t.end-t.text.length,a.select()}return t},o.addText2Input=function(e,t,a){var r,s,i,u,l,o;if(e instanceof n&&(e=e[0]),a||(a=this.getInputRange(e)),e.setSelectionRange)s=(r=e.value).substring(0,a.start)+t+r.substring(a.end),u=l=a.start+t.length,o=e.scrollTop,e.value=s,e.scrollTop!=o&&(e.scrollTop=o),setTimeout(function(){e.setSelectionRange(u,l)},0);else if(e.createTextRange){!function(e,t){var a;e.focus(),e.setSelectionRange?e.setSelectionRange(t.start,t.end):e.createTextRange&&(a=e.createTextRange(),e.value.length===t.start?(a.collapse(!1),a.select()):(a.moveToBookmark(t.bookmark),a.select()))}(e,a),(i=document.selection.createRange()).text=t,i.setEndPoint("StartToEnd",i),i.select();var c=this.getInputRange(e);a.text=c,a.start=c.start,a.bookmark=c.bookmark,a.end=c.end}},o.addValidator({mandatory:a(5),email:a(6),emailList:a(7),mobile:a(8),name:a(9),password:a(10),maxLength:a(11),maxByteLength:a(12),url:a(13),set:a(14),number:a(1),numberRange:a(15),numberDigits:a(16),integer:a(2),integerRange:a(17),datetime:a(18),wordUpperCase:a(19),domain:a(20),domainList:a(21)}),o.setCommonMsg(window.YomFormUtilCommonMsg||{mandatory:"必填项",email:"无效的邮件地址",emailList:"无效的邮件地址",mobile:"无效的手机号码",name:"不能包含分号",password:"密码长度在6~16之间，必须包含大写字母、小写字母和数字，不能包含空格",maxLength:"输入长度超过限制，需要删除{{1}}个字",maxByteLength:"输入长度超过限制，需要删除{{1}}个字",url:"无效的URL",set:"不能含有重复的值，单个值的最大长度是80，值不能包含“||”",number:"必须输入一个数字",numberRange:"必须输入{{0}}到{{1}}范围之间的数字",numberDigits:"保留到小数点后{{0}}位",integer:"必须输入一个整数",integerRange:"必须输入{{0}}到{{1}}范围之间的整数",datetime:"无效的日期时间格式",wordUpperCase:"只能输入大写字母、数字或下划线",domain:"无效的域名",domainList:"无效的域名"}),e.exports=o},function(e,t,a){var n=a(0);e.exports=function(e){var t,a,r=!1;switch((e=n(e)[0]).tagName){case"INPUT":"CHECKBOX"==(t=e.type.toUpperCase())||"RADIO"==t?r=e.checked:(e.value=n.trim(e.value),r=!!e.value);break;case"SELECT":case"TEXTAREA":e.value=n.trim(e.value),r=!!e.value;break;default:"checkbox"==(a=n(e).attr("data-validate-type"))||"radio"==a?n('input[type="'+a+'"]',e).each(function(e,t){if(t.checked)return r=!0,!1}):"input"==a&&n("input",e).each(function(e,t){if(!/^button|submit|reset|image|checkbox|radio$/i.test(t.type)&&n.trim(t.value))return r=!0,!1})}return r}},function(e,t,a){var n=a(0);e.exports=function(e){return(e=n(e)[0]).value=n.trim(e.value.toLowerCase()),!e.value||/^[a-zA-Z0-9_.-]{1,63}@([a-zA-Z0-9_-]{1,63}\.)+[a-zA-Z0-9_-]{1,63}$/.test(e.value)}},function(e,t,a){var n=a(0);e.exports=function(e){var t,a;return(e=n(e)[0]).value=e.value.toLowerCase().replace(/\s*\n\s*/g,"\n").replace(/,/g,";").replace(/;*\n;*/g,"\n").replace(/(\s*;\s*)+/g,"; ").replace(/^(;\s*)+|^\n+|(;\s*)+$|\n+$/g,""),e.value=n.trim(e.value),!e.value||(a=e.value.split(/; |\n/),n.each(a,function(e,a){return t=/^[a-zA-Z0-9_.-]{1,63}@([a-zA-Z0-9_-]{1,63}\.)+[a-zA-Z0-9_-]{1,63}$/.test(a)}),{passed:t,data:a})}},function(e,t,a){var n=a(0);e.exports=function(e){return(e=n(e)[0]).value=n.trim(e.value.toLowerCase()),!e.value||/^(0|86|17951)?(13[0-9]|14[567]|15[012356789]|16[6]|17[0-9]|18[0-9]|19[0-9]|106[0-9]{2})[0-9]{8}$/.test(e.value)}},function(e,t,a){var n=a(0);e.exports=function(e){return(e=n(e)[0]).value.indexOf(";")<0}},function(e,t,a){var n=a(0);e.exports=function(e){var t=(e=n(e)[0]).value.length;return t>=6&&t<=16&&!/\s/.test(e.value)&&/[a-z]/.test(e.value)&&/[A-Z]/.test(e.value)&&/[0-9]/.test(e.value)}},function(e,t,a){var n=a(0);e.exports=function(e,t){var a=(e=n(e)[0]).value.length;return{passed:a<=t,msgData:[t,a-t]}}},function(e,t,a){var n=a(0);e.exports=function(e,t){var a=function(e){return e.replace(/[^\x00-\xff]/g,"xx").length}((e=n(e)[0]).value);return{passed:a<=t,msgData:[t,a-t]}}},function(e,t,a){var n=a(0);e.exports=function(e){return(e=n(e)[0]).value=n.trim(e.value.toLowerCase()),!e.value||/^https?:\/\//.test(e.value)}},function(e,t,a){var n=a(0);e.exports=function(e){var t,a={},r=[],s=!1,i=!1,u=!1;return n.each(n(e).val().split("\n"),function(e,t){if(t=n.trim(t)){if(a[t])return s=!0,!1;if(t.indexOf("||")>=0)return i=!0,!1;if(t.length>80)return u=!0,!1;a[t]=1,r.push(t)}}),(t=!s&&!i&&!u)&&n(e).val(r.join("\n")),{passed:t,data:r}}},function(e,t,a){var n=a(0),r=a(3),s=a(1);e.exports=function(e,t){var a;if((e=n(e)[0]).value=n.trim(e.value),!e.value)return{passed:!0,data:null};t=t.split("~");var i=Math.max((t[0].split(".")[1]||"").length,(t[1].split(".")[1]||"").length)+1,u=[r.formatDecimal(t[0],"0."+new Array(i).join("0")),r.formatDecimal(t[1],"0."+new Array(i).join("0"))];return s({value:t[0]}).passed&&s({value:t[1]}).passed&&s(e).passed&&(a=+e.value)>=+t[0]&&a<=+t[1]?{passed:!0,data:a,msgData:u}:{passed:!1,msgData:u}}},function(e,t,a){var n=a(0),r=a(2),s=a(1);e.exports=function(e,t){var a;if((e=n(e)[0]).value=n.trim(e.value),!e.value)return{passed:!0,data:null};if(!r({value:t}).passed||!s(e).passed)return{passed:!1,msgData:[+t]};a=+e.value;var i=e.value.split(".")[1];return i&&(a+"").split(".")[0]+"."+i==e.value||(e.value=a),(i=e.value.split(".")[1])&&i.length>t?{passed:!1,msgData:[+t]}:{passed:!0,data:a,msgData:[+t]}}},function(e,t,a){var n=a(0),r=a(3),s=a(2);e.exports=function(e,t){var a;if((e=n(e)[0]).value=n.trim(e.value),!e.value)return{passed:!0,data:null};t=t.split("~");var i=[r.formatDecimal(t[0],"0"),r.formatDecimal(t[1],"0")];return s({value:t[0]}).passed&&s({value:t[1]}).passed&&s(e).passed&&(a=+e.value)>=+t[0]&&a<=+t[1]?{passed:!0,data:a,msgData:i}:{passed:!1,msgData:i}}},function(e,t,a){var n=a(0),r=[0,31,29,31,30,31,30,31,31,30,31,30,31];e.exports=function(e,t){var a,s,i,u,l,o,c,p,d,f,v;return a=(e=n(e)[0]).value=n.trim(e.value.replace(/(\s)+/g,"$1")),e.value?(a=a.split(" "),t=t.split(" "),a.length!=t.length?{passed:!1,data:null}:(s=a[0],i=a[1],u=t[0],l=t[1],a=s.match(/\d+/g),t=u.match(/[yMd]+/g),a&&a.length==t.length?(o=+a[0],c=+a[1],v=+a[2],a[1].length>2||a[2].length>2||0===c||0===v||c>12||v>r[c]?{passed:!1,data:null}:2===c&&(o%4!=0||o%100==0)&&o%400!=0&&v>28?{passed:!1,data:null}:"M"==t[1]&&c<10&&"0"==a[1].charAt(0)?{passed:!1,data:null}:"MM"==t[1]&&c<10&&"0"!=a[1].charAt(0)?{passed:!1,data:null}:"d"==t[2]&&v<10&&"0"==a[2].charAt(0)?{passed:!1,data:null}:"dd"==t[2]&&v<10&&"0"!=a[2].charAt(0)?{passed:!1,data:null}:u.replace(t[0],a[0]).replace(t[1],a[1]).replace(t[2],a[2])!=s?{passed:!1,data:null}:l?(a=i.match(/\d+/g),t=l.match(/[Hhms]+/g),a&&a.length==t.length?(p=+a[0],d=+a[1],f=+a[2],a[0].length>2||a[1].length>2||a[2].length>2||p>24||d>59||f>59?{passed:!1,data:null}:("h"==t[0]||"hh"==t[0])&&p>12?{passed:!1,data:null}:("H"==t[0]||"h"==t[0])&&p<10&&"0"==a[0].charAt(0)?{passed:!1,data:null}:("HH"==t[0]||"hh"==t[0])&&p<10&&"0"!=a[0].charAt(0)?{passed:!1,data:null}:"m"==t[1]&&d<10&&"0"==a[1].charAt(0)?{passed:!1,data:null}:"mm"==t[1]&&d<10&&"0"!=a[1].charAt(0)?{passed:!1,data:null}:"s"==t[2]&&f<10&&"0"==a[2].charAt(0)?{passed:!1,data:null}:"ss"==t[2]&&f<10&&"0"!=a[2].charAt(0)?{passed:!1,data:null}:l.replace(t[0],a[0]).replace(t[1],a[1]).replace(t[2],a[2])!=i?{passed:!1,data:null}:{passed:!0,data:new Date(o,c-1,v,p,d,f)}):{passed:!1,data:null}):{passed:!0,data:new Date(o,c-1,v)}):{passed:!1,data:null})):{passed:!0,data:null}}},function(e,t,a){var n=a(0);e.exports=function(e){return(e=n(e)[0]).value=n.trim(e.value.toUpperCase()),!e.value||!/\W/.test(e.value)}},function(e,t,a){var n=a(0);e.exports=function(e){return(e=n(e)[0]).value=n.trim(e.value),!e.value||/^([a-zA-Z0-9\-]{1,63}\.)+[a-zA-Z0-9\-]{1,63}$/.test(e.value)}},function(e,t,a){var n=a(0);e.exports=function(e){var t,a;return(e=n(e)[0]).value=e.value.toLowerCase().replace(/\s*\n\s*/g,"\n").replace(/,/g,";").replace(/;*\n;*/g,"\n").replace(/(\s*;\s*)+/gm,"; ").replace(/^(;\s*)+|^\n+|(;\s*)+$|\n+$/g,""),e.value=n.trim(e.value),!e.value||(a=e.value.split(/; |\n/),n.each(a,function(e,a){return t=/^([a-zA-Z0-9\-]{1,63}\.)+[a-zA-Z0-9\-]{1,63}$/.test(a)}),{passed:t,data:a})}}])});